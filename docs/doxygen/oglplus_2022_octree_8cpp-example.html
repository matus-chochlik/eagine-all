<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="author" content="Matus Chochlik"/>
<meta name="copyright" content="Copyright 2015-2022 Matus Chochlik"/>
<meta name="keywords" content="C++ EGL OpenGL OpenAL Graphics Rendering"/>
<meta name="description" content="C++ wrapper for rendering C APIs"/>
<title>oglplus/022_octree.cpp</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="eagine.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="eagine-frame">
<div id="eagine-bar">
	<div id="eagine-top">
	<div id="eagine-top-content">
		<div id="eagine-caption">
	   		<div id="eagine-brief">
					<span id="eagine-name">EAGine&#160;</span>
					<span id="eagine-version">(0.87.0)</span> a C++ wrapper for rendering APIs
				</div>
		</div>
		<hr/>
	</div>
	</div>
	<div id="eagine-icon">
		<a href="http://oglplus.org/"><img src="../oglplus-circular.png"/></a>
	</div>
</div>
<div id="eagine-content">
<div id="top">
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">oglplus/022_octree.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>Copyright Matus Chochlik. Distributed under the Boost Software License, Version 1.0. See accompanying file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a></p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gl_8hpp.html">eagine/oglplus/gl.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gl__api_8hpp.html">eagine/oglplus/gl_api.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="integer__range_8hpp.html">eagine/integer_range.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="eagine-core_2include_2eagine_2main_8hpp.html">eagine/main.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="eagine-oglplus_2include_2eagine_2oglplus_2camera_8hpp.html">eagine/oglplus/camera.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gl__debug__logger_8hpp.html">eagine/oglplus/gl_debug_logger.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string__ref_8hpp.html">eagine/oglplus/glsl/string_ref.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="eagine-oglplus_2include_2eagine_2oglplus_2math_2vector_8hpp.html">eagine/oglplus/math/vector.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;GLFW/glfw3.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">class </span>sort_program {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    sort_program(<span class="keyword">const</span> <a name="_a0"></a><a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi) {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a name="a1"></a><a class="code" href="group__string__utils.html#gae76dd3f0edeca37e438f5bbc2374e1b9">string_view</a> vs_source{R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">            #version 150</span></div>
<div class="line"><span class="stringliteral">            in vec4 PosAndSize;</span></div>
<div class="line"><span class="stringliteral">            void main() {</span></div>
<div class="line"><span class="stringliteral">                gl_Position = PosAndSize;</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        )&quot;};</span></div>
<div class="line"><span class="stringliteral">        <a name="a2"></a><a class="code" href="group__gl__api__wrap.html#ga814999c7f80bb5260eb13decc383d5b4">oglplus::owned_shader_name</a> vs;</span></div>
<div class="line"><span class="stringliteral">        gl.create_shader(GL.vertex_shader) &gt;&gt; vs;</span></div>
<div class="line"><span class="stringliteral">        </span><span class="keyword">const</span> <span class="keyword">auto</span> cleanup_vs = gl.delete_shader.raii(vs);</div>
<div class="line">        gl.object_label(vs, <span class="stringliteral">&quot;sort vertex shader&quot;</span>);</div>
<div class="line">        gl.shader_source(vs, oglplus::glsl_string_ref(vs_source));</div>
<div class="line">        gl.compile_shader(vs);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__string__utils.html#gae76dd3f0edeca37e438f5bbc2374e1b9">string_view</a> gs_source{R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">            #version 150</span></div>
<div class="line"><span class="stringliteral">            layout (points) in;</span></div>
<div class="line"><span class="stringliteral">            layout (points, max_vertices=8) out;</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            uniform mat4 perspectiveMatrix, cameraMatrix;</span></div>
<div class="line"><span class="stringliteral">            mat4 matrix = perspectiveMatrix*cameraMatrix;</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            out vec4 xfbPosAndSize;</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            int index[8] = int[8](0,1,2,3,4,5,6,7);</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            const vec3 offset[8] = vec3[8](</span></div>
<div class="line"><span class="stringliteral">                vec3(-0.5,-0.5,-0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(+0.5,-0.5,-0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(-0.5,+0.5,-0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(+0.5,+0.5,-0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(-0.5,-0.5,+0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(+0.5,-0.5,+0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(-0.5,+0.5,+0.5),</span></div>
<div class="line"><span class="stringliteral">                vec3(+0.5,+0.5,+0.5) </span></div>
<div class="line"><span class="stringliteral">            );</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            vec4 child[8], childVS[8];</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            void makeChild(int i) {</span></div>
<div class="line"><span class="stringliteral">                vec4 node = gl_in[0].gl_Position;</span></div>
<div class="line"><span class="stringliteral">                child[i] = vec4(node.xyz+node.w*offset[i], node.w*0.5);</span></div>
<div class="line"><span class="stringliteral">                childVS[i] = matrix*vec4(child[i].xyz, 1.0);</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            ivec2 sortingNW8[19] = ivec2[19](</span></div>
<div class="line"><span class="stringliteral">                ivec2(0,7), ivec2(1,6), ivec2(2,5), ivec2(3,4),</span></div>
<div class="line"><span class="stringliteral">                ivec2(0,3), ivec2(4,7), ivec2(1,2), ivec2(5,6),</span></div>
<div class="line"><span class="stringliteral">                ivec2(0,1), ivec2(2,3), ivec2(4,5), ivec2(6,7),</span></div>
<div class="line"><span class="stringliteral">                ivec2(2,4), ivec2(3,5),</span></div>
<div class="line"><span class="stringliteral">                ivec2(1,2), ivec2(3,4), ivec2(5,6),</span></div>
<div class="line"><span class="stringliteral">                ivec2(2,3), ivec2(4,5)</span></div>
<div class="line"><span class="stringliteral">            );</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            void sortSwapIdx(ivec2 pair) {</span></div>
<div class="line"><span class="stringliteral">                float zx = childVS[index[pair.x]].z;</span></div>
<div class="line"><span class="stringliteral">                float zy = childVS[index[pair.y]].z;</span></div>
<div class="line"><span class="stringliteral">                if(zx &lt; zy) {</span></div>
<div class="line"><span class="stringliteral">                    int tmp = index[pair.y];</span></div>
<div class="line"><span class="stringliteral">                    index[pair.y] = index[pair.x];</span></div>
<div class="line"><span class="stringliteral">                    index[pair.x] = tmp;</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">            void main() {</span></div>
<div class="line"><span class="stringliteral">                for(int c=0; c!=8; ++c) {</span></div>
<div class="line"><span class="stringliteral">                    makeChild(c);</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">                for(int s=0; s!=19; ++s) {</span></div>
<div class="line"><span class="stringliteral">                    sortSwapIdx(sortingNW8[s]);</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral">                for(int c=0; c!=8; ++c) {</span></div>
<div class="line"><span class="stringliteral">                    xfbPosAndSize = child[index[c]];</span></div>
<div class="line"><span class="stringliteral">                    EmitVertex();</span></div>
<div class="line"><span class="stringliteral">                    EndPrimitive();</span></div>
<div class="line"><span class="stringliteral">                }</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        )&quot;};</span></div>
<div class="line"><span class="stringliteral">        <a class="code" href="group__gl__api__wrap.html#ga814999c7f80bb5260eb13decc383d5b4">oglplus::owned_shader_name</a> gs;</span></div>
<div class="line"><span class="stringliteral">        gl.create_shader(GL.geometry_shader) &gt;&gt; gs;</span></div>
<div class="line"><span class="stringliteral">        </span><span class="keyword">const</span> <span class="keyword">auto</span> cleanup_gs = gl.delete_shader.raii(gs);</div>
<div class="line">        gl.object_label(gs, <span class="stringliteral">&quot;sort geometry shader&quot;</span>);</div>
<div class="line">        gl.shader_source(gs, oglplus::glsl_string_ref(gs_source));</div>
<div class="line">        gl.compile_shader(gs);</div>
<div class="line"> </div>
<div class="line">        gl.create_program() &gt;&gt; prog;</div>
<div class="line">        gl.object_label(prog, <span class="stringliteral">&quot;sort program&quot;</span>);</div>
<div class="line">        gl.attach_shader(prog, vs);</div>
<div class="line">        gl.attach_shader(prog, gs);</div>
<div class="line">        gl.transform_feedback_varyings(</div>
<div class="line">          prog, <span class="stringliteral">&quot;xfbPosAndSize&quot;</span>, GL.separate_attribs);</div>
<div class="line">        gl.link_program(prog);</div>
<div class="line">        gl.use_program(prog);</div>
<div class="line"> </div>
<div class="line">        gl.get_attrib_location(prog, <span class="stringliteral">&quot;PosAndSize&quot;</span>) &gt;&gt; pos_and_size_loc;</div>
<div class="line">        gl.get_uniform_location(prog, <span class="stringliteral">&quot;perspectiveMatrix&quot;</span>) &gt;&gt; perspective_loc;</div>
<div class="line">        gl.get_uniform_location(prog, <span class="stringliteral">&quot;cameraMatrix&quot;</span>) &gt;&gt; camera_loc;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> cleanup(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; gl) {</div>
<div class="line">        gl.<a name="a3"></a>delete_program(std::move(prog));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="_a4"></a><a class="code" href="classeagine_1_1c__api_1_1basic__owned__handle.html">eagine::oglplus::owned_program_name</a> prog;</div>
<div class="line">    <a name="_a5"></a><a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::vertex_attrib_location</a> pos_and_size_loc;</div>
<div class="line">    <a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::uniform_location</a> perspective_loc;</div>
<div class="line">    <a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::uniform_location</a> camera_loc;</div>
<div class="line">};</div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">class </span>draw_program {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    draw_program(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi) {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__string__utils.html#gae76dd3f0edeca37e438f5bbc2374e1b9">string_view</a> vs_source{R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">            #version 150</span></div>
<div class="line"><span class="stringliteral">            uniform mat4 perspectiveMatrix, cameraMatrix;</span></div>
<div class="line"><span class="stringliteral">            mat4 matrix = perspectiveMatrix*cameraMatrix;</span></div>
<div class="line"><span class="stringliteral">            in vec4 PosAndSize;</span></div>
<div class="line"><span class="stringliteral">            out vec3 vertColor;</span></div>
<div class="line"><span class="stringliteral">            void main() {</span></div>
<div class="line"><span class="stringliteral">                gl_Position = matrix * vec4(PosAndSize.xyz, 1.0);</span></div>
<div class="line"><span class="stringliteral">                gl_PointSize = 25.0 * gl_Position.w / gl_Position.z;</span></div>
<div class="line"><span class="stringliteral">                vertColor = normalize(vec3(1.0) - normalize(PosAndSize.xyz));</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        )&quot;};</span></div>
<div class="line"><span class="stringliteral">        <a class="code" href="group__gl__api__wrap.html#ga814999c7f80bb5260eb13decc383d5b4">oglplus::owned_shader_name</a> vs;</span></div>
<div class="line"><span class="stringliteral">        gl.create_shader(GL.vertex_shader) &gt;&gt; vs;</span></div>
<div class="line"><span class="stringliteral">        </span><span class="keyword">const</span> <span class="keyword">auto</span> cleanup_vs = gl.delete_shader.raii(vs);</div>
<div class="line">        gl.object_label(vs, <span class="stringliteral">&quot;draw vertex shader&quot;</span>);</div>
<div class="line">        gl.shader_source(vs, oglplus::glsl_string_ref(vs_source));</div>
<div class="line">        gl.compile_shader(vs);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__string__utils.html#gae76dd3f0edeca37e438f5bbc2374e1b9">string_view</a> fs_source{R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">            #version 150</span></div>
<div class="line"><span class="stringliteral">            in vec3 vertColor;</span></div>
<div class="line"><span class="stringliteral">            out vec4 fragColor;</span></div>
<div class="line"><span class="stringliteral">            void main() {</span></div>
<div class="line"><span class="stringliteral">                fragColor = vec4(vertColor, 0.02);</span></div>
<div class="line"><span class="stringliteral">            }</span></div>
<div class="line"><span class="stringliteral">        )&quot;};</span></div>
<div class="line"><span class="stringliteral">        <a class="code" href="group__gl__api__wrap.html#ga814999c7f80bb5260eb13decc383d5b4">oglplus::owned_shader_name</a> fs;</span></div>
<div class="line"><span class="stringliteral">        gl.create_shader(GL.fragment_shader) &gt;&gt; fs;</span></div>
<div class="line"><span class="stringliteral">        </span><span class="keyword">const</span> <span class="keyword">auto</span> cleanup_fs = gl.delete_shader.raii(fs);</div>
<div class="line">        gl.object_label(fs, <span class="stringliteral">&quot;draw fragment shader&quot;</span>);</div>
<div class="line">        gl.shader_source(fs, oglplus::glsl_string_ref(fs_source));</div>
<div class="line">        gl.compile_shader(fs);</div>
<div class="line"> </div>
<div class="line">        gl.create_program() &gt;&gt; prog;</div>
<div class="line">        gl.object_label(prog, <span class="stringliteral">&quot;draw program shader&quot;</span>);</div>
<div class="line">        gl.attach_shader(prog, vs);</div>
<div class="line">        gl.attach_shader(prog, fs);</div>
<div class="line">        gl.link_program(prog);</div>
<div class="line">        gl.use_program(prog);</div>
<div class="line"> </div>
<div class="line">        gl.get_attrib_location(prog, <span class="stringliteral">&quot;PosAndSize&quot;</span>) &gt;&gt; pos_and_size_loc;</div>
<div class="line">        gl.get_uniform_location(prog, <span class="stringliteral">&quot;perspectiveMatrix&quot;</span>) &gt;&gt; perspective_loc;</div>
<div class="line">        gl.get_uniform_location(prog, <span class="stringliteral">&quot;cameraMatrix&quot;</span>) &gt;&gt; camera_loc;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> cleanup(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; gl) {</div>
<div class="line">        gl.delete_program(std::move(prog));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classeagine_1_1c__api_1_1basic__owned__handle.html">eagine::oglplus::owned_program_name</a> prog;</div>
<div class="line">    <a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::vertex_attrib_location</a> pos_and_size_loc;</div>
<div class="line">    <a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::uniform_location</a> perspective_loc;</div>
<div class="line">    <a class="code" href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::uniform_location</a> camera_loc;</div>
<div class="line">};</div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">class </span>octree_sorter {</div>
<div class="line">    <span class="keyword">static</span> constexpr <span class="keyword">const</span> std::size_t levels = 6U;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    octree_sorter(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi, <span class="keywordtype">float</span> node_size)</div>
<div class="line">      : sort_prog{glapi}</div>
<div class="line">      , draw_prog{glapi} {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        std::vector&lt;float&gt; node_data;</div>
<div class="line">        gl.<a name="a6"></a>gen_buffers(pos_and_size.raw_handles());</div>
<div class="line">        gl.<a name="a7"></a>gen_vertex_arrays(vao.raw_handles());</div>
<div class="line">        gl.<a name="a8"></a>gen_transform_feedbacks(xfb.raw_handles());</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> l : integer_range(node_count.size())) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> ls = <a name="a9"></a><a class="code" href="group__type__utils.html#gaaf8b694f300be481e0193d6d79cae6ec">signedness_cast</a>(l);</div>
<div class="line">            node_count[l] = 1;</div>
<div class="line">            <span class="keywordflow">for</span>([[maybe_unused]] <span class="keyword">const</span> <span class="keyword">auto</span> p : integer_range(l)) {</div>
<div class="line">                node_count[l] *= 8;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            gl.<a name="a10"></a>bind_vertex_array(vao[ls]);</div>
<div class="line">            gl.<a name="a11"></a>bind_buffer(GL.array_buffer, pos_and_size[ls]);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(l == 0) {</div>
<div class="line">                <span class="keyword">const</span> <span class="keyword">auto</span> root_data =</div>
<div class="line">                  GL.float_.array(0.F, 0.F, 0.F, node_size);</div>
<div class="line">                gl.<a name="a12"></a>buffer_data(</div>
<div class="line">                  GL.array_buffer, <a name="a13"></a><a class="code" href="group__memory.html#ga9534fdd13884329a5c5e5c10b3337f80">view</a>(root_data), GL.static_draw);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                node_data.resize(<a class="code" href="group__type__utils.html#gaaf8b694f300be481e0193d6d79cae6ec">signedness_cast</a>(node_count[l] * 4), 0.F);</div>
<div class="line">                gl.buffer_data(</div>
<div class="line">                  GL.array_buffer, <a class="code" href="group__memory.html#ga9534fdd13884329a5c5e5c10b3337f80">view</a>(node_data), GL.static_draw);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> pos_and_size_loc = (l + 1 == levels)</div>
<div class="line">                                            ? draw_prog.pos_and_size_loc</div>
<div class="line">                                            : sort_prog.pos_and_size_loc;</div>
<div class="line"> </div>
<div class="line">            gl.<a name="a14"></a>vertex_attrib_pointer(pos_and_size_loc, 4, GL.float_, GL.false_);</div>
<div class="line">            gl.<a name="a15"></a>enable_vertex_attrib_array(pos_and_size_loc);</div>
<div class="line">            gl.bind_vertex_array(<a name="a16"></a><a class="code" href="group__gl__api__wrap.html#ga743c2655313045676d10e30dc0e7bd91">oglplus::no_vertex_array</a>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(l != 0) {</div>
<div class="line">                gl.<a name="a17"></a>bind_transform_feedback(GL.transform_feedback, xfb[ls - 1]);</div>
<div class="line">                gl.bind_buffer(GL.transform_feedback_buffer, pos_and_size[ls]);</div>
<div class="line">                gl.<a name="a18"></a>bind_buffer_base(</div>
<div class="line">                  GL.transform_feedback_buffer, 0, pos_and_size[ls]);</div>
<div class="line">                gl.bind_transform_feedback(</div>
<div class="line">                  GL.transform_feedback, <a name="a19"></a><a class="code" href="group__gl__api__wrap.html#gac71ed95459e0f445669928b86c1cf2a1">oglplus::default_transform_feedback</a>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a name="a20"></a><a class="code" href="group__memory.html#gad84cf3d7cf242c3f2d6f786668031276">sort</a>(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi) {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        gl.<a name="a21"></a>enable(GL.rasterizer_discard);</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> l : integer_range(levels - 1)) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keyword">auto</span> ls = <a class="code" href="group__type__utils.html#gaaf8b694f300be481e0193d6d79cae6ec">signedness_cast</a>(l);</div>
<div class="line"> </div>
<div class="line">            gl.bind_vertex_array(vao[ls]);</div>
<div class="line">            gl.bind_transform_feedback(GL.transform_feedback, xfb[ls]);</div>
<div class="line">            gl.<a name="a22"></a>begin_transform_feedback(GL.points);</div>
<div class="line">            gl.<a name="a23"></a>draw_arrays(GL.points, 0, node_count[l]);</div>
<div class="line">            gl.<a name="a24"></a>end_transform_feedback();</div>
<div class="line">        }</div>
<div class="line">        gl.<a name="a25"></a>disable(GL.rasterizer_discard);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> draw(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line">        gl.bind_vertex_array(vao.back());</div>
<div class="line">        gl.draw_arrays(GL.points, 0, node_count.back());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> cleanup(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; gl) {</div>
<div class="line">        draw_prog.cleanup(gl);</div>
<div class="line">        sort_prog.cleanup(gl);</div>
<div class="line">        gl.<a name="a26"></a>delete_transform_feedbacks(xfb.raw_handles());</div>
<div class="line">        gl.<a name="a27"></a>delete_vertex_arrays(vao.raw_handles());</div>
<div class="line">        gl.<a name="a28"></a>delete_buffers(pos_and_size.raw_handles());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    sort_program sort_prog;</div>
<div class="line">    draw_program draw_prog;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::array&lt;int, levels&gt; node_count{};</div>
<div class="line">    <a class="code" href="group__gl__api__wrap.html#ga0a4e18c0c0f0bc7fdb9b9bf2aed8b10f">eagine::oglplus::buffer_name_array&lt;levels&gt;</a> pos_and_size{};</div>
<div class="line">    <a class="code" href="group__gl__api__wrap.html#gaa8ab6d03e40f471bdca3c7456facf85e">eagine::oglplus::vertex_array_name_array&lt;levels&gt;</a> vao{};</div>
<div class="line">    <a class="code" href="group__gl__api__wrap.html#gad0bd724fff87f121d0f5843e3e6f971f">eagine::oglplus::transform_feedback_name_array</a>&lt;levels - 1U&gt; xfb{};</div>
<div class="line">};</div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">class </span>octree_example {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    octree_example(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi)</div>
<div class="line">      : _sorter{glapi, 3.F} {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        gl.<a name="a29"></a>clear_color(0.2F, 0.2F, 0.2F, 1.F);</div>
<div class="line">        gl.disable(GL.depth_test);</div>
<div class="line">        gl.enable(GL.program_point_size);</div>
<div class="line">        gl.enable(GL.blend);</div>
<div class="line">        gl.<a name="a30"></a>blend_func(GL.src_alpha, GL.one_minus_src_alpha);</div>
<div class="line"> </div>
<div class="line">        _camera.set_near(0.1F)</div>
<div class="line">          .set_far(50.F)</div>
<div class="line">          .set_fov(<a name="a31"></a><a class="code" href="group__units.html#gaee616eaf201f65e072f7602b137f4615">degrees_</a>(60))</div>
<div class="line">          .set_orbit_min(8.F)</div>
<div class="line">          .set_orbit_max(9.F);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> cleanup(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi) {</div>
<div class="line">        _sorter.cleanup(glapi);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> reshape(</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi,</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width,</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> height) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        gl.<a name="a32"></a>viewport(width, height);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> perspective =</div>
<div class="line">          _camera.perspective_matrix(<span class="keywordtype">float</span>(width) / <span class="keywordtype">float</span>(height));</div>
<div class="line"> </div>
<div class="line">        gl.<a name="a33"></a>use_program(_sorter.sort_prog.prog);</div>
<div class="line">        glapi.<a name="a34"></a>set_uniform(</div>
<div class="line">          _sorter.sort_prog.prog,</div>
<div class="line">          _sorter.sort_prog.perspective_loc,</div>
<div class="line">          perspective);</div>
<div class="line"> </div>
<div class="line">        gl.use_program(_sorter.draw_prog.prog);</div>
<div class="line">        glapi.set_uniform(</div>
<div class="line">          _sorter.draw_prog.prog,</div>
<div class="line">          _sorter.draw_prog.perspective_loc,</div>
<div class="line">          perspective);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> render(<span class="keyword">const</span> <a class="code" href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::gl_api</a>&amp; glapi, <span class="keyword">const</span> <span class="keywordtype">float</span> t) {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">        _camera.set_azimuth(<a name="a35"></a><a class="code" href="group__units.html#ga60de4eb5806a3a4a07293b15e207b48b">radians_</a>(t * 0.4F))</div>
<div class="line">          .set_elevation(<a class="code" href="group__units.html#ga60de4eb5806a3a4a07293b15e207b48b">radians_</a>(std::sin(t * 0.5F)))</div>
<div class="line">          .set_orbit_factor(<a name="a36"></a><a class="code" href="group__math.html#gae38f1e4bd402b80d751218081ed90aa6">math::sine_wave01</a>(t * 0.1F));</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> camera_mat = _camera.transform_matrix();</div>
<div class="line"> </div>
<div class="line">        gl.<a name="a37"></a>clear(GL.color_buffer_bit);</div>
<div class="line"> </div>
<div class="line">        gl.use_program(_sorter.sort_prog.prog);</div>
<div class="line">        glapi.set_uniform(</div>
<div class="line">          _sorter.sort_prog.prog, _sorter.sort_prog.camera_loc, camera_mat);</div>
<div class="line"> </div>
<div class="line">        _sorter.sort(glapi);</div>
<div class="line"> </div>
<div class="line">        gl.use_program(_sorter.draw_prog.prog);</div>
<div class="line">        glapi.set_uniform(</div>
<div class="line">          _sorter.draw_prog.prog, _sorter.draw_prog.camera_loc, camera_mat);</div>
<div class="line"> </div>
<div class="line">        _sorter.draw(glapi);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a name="_a38"></a><a class="code" href="classeagine_1_1oglplus_1_1orbiting__camera.html">eagine::oglplus::orbiting_camera</a> _camera;</div>
<div class="line">    octree_sorter _sorter;</div>
<div class="line">};</div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> run_loop(</div>
<div class="line">  <a name="_a39"></a><a class="code" href="classeagine_1_1main__ctx.html">eagine::main_ctx</a>&amp; ctx,</div>
<div class="line">  GLFWwindow* window,</div>
<div class="line">  <span class="keywordtype">int</span> width,</div>
<div class="line">  <span class="keywordtype">int</span> height) {</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceeagine.html">eagine</a>;</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code" href="namespaceeagine_1_1oglplus.html">eagine::oglplus</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a name="a40"></a><a class="code" href="group__gl__api__wrap.html#ga0b1e6d17e6e223d5bec1df69a3c1d1b2">gl_api</a> glapi;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [gl, GL] = glapi;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(gl.clear) {</div>
<div class="line">        gl_debug_logger gdl{ctx};</div>
<div class="line"> </div>
<div class="line">        gl.debug_message_callback(gdl);</div>
<div class="line">        gl.<a name="a41"></a>debug_message_control(</div>
<div class="line">          GL.dont_care, GL.dont_care, GL.dont_care, GL.true_);</div>
<div class="line"> </div>
<div class="line">        octree_example example{glapi};</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> cleanup_example = <span class="keywordflow">finally</span>([&amp;]() { example.cleanup(glapi); });</div>
<div class="line"> </div>
<div class="line">        example.reshape(glapi, width, height);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> t = 0.F;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div>
<div class="line">            glfwPollEvents();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS) {</div>
<div class="line">                glfwSetWindowShouldClose(window, 1);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(glfwWindowShouldClose(window)) {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">int</span> new_width, new_height;</div>
<div class="line">            glfwGetWindowSize(window, &amp;new_width, &amp;new_height);</div>
<div class="line">            <span class="keywordflow">if</span>((width != new_width) || (height != new_height)) {</div>
<div class="line">                width = new_width;</div>
<div class="line">                height = new_height;</div>
<div class="line">                example.reshape(glapi, width, height);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            example.render(glapi, t);</div>
<div class="line"> </div>
<div class="line">            glfwSwapBuffers(window);</div>
<div class="line">            t += 0.02F;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;missing required API&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> init_and_run(<a class="code" href="classeagine_1_1main__ctx.html">eagine::main_ctx</a>&amp; ctx) {</div>
<div class="line">    <span class="keywordflow">if</span>(!glfwInit()) {</div>
<div class="line">        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;GLFW initialization error&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">auto</span> ensure_glfw_cleanup = <a name="a42"></a><a class="code" href="group__functional.html#ga537607e94d5469008ab8290a79a65a18">eagine::finally</a>(glfwTerminate);</div>
<div class="line"> </div>
<div class="line">        glfwWindowHint(GLFW_DOUBLEBUFFER, GL_TRUE);</div>
<div class="line">        glfwWindowHint(GLFW_RED_BITS, 8);</div>
<div class="line">        glfwWindowHint(GLFW_BLUE_BITS, 8);</div>
<div class="line">        glfwWindowHint(GLFW_GREEN_BITS, 8);</div>
<div class="line">        glfwWindowHint(GLFW_ALPHA_BITS, 0);</div>
<div class="line">        glfwWindowHint(GLFW_DEPTH_BITS, 0);</div>
<div class="line">        glfwWindowHint(GLFW_STENCIL_BITS, 0);</div>
<div class="line"> </div>
<div class="line">        glfwWindowHint(GLFW_SAMPLES, GLFW_DONT_CARE);</div>
<div class="line">        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);</div>
<div class="line">        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);</div>
<div class="line">        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);</div>
<div class="line">        glfwWindowHint(GLFW_OPENGL_DEBUG_CONTEXT, GL_TRUE);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> width = 800, height = 600;</div>
<div class="line"> </div>
<div class="line">        GLFWwindow* window =</div>
<div class="line">          glfwCreateWindow(width, height, <span class="stringliteral">&quot;OGLplus example&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(!window) {</div>
<div class="line">            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Error creating GLFW window&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            glfwMakeContextCurrent(window);</div>
<div class="line">            eagine::oglplus::api_initializer gl_api_init;</div>
<div class="line">            glGetError();</div>
<div class="line">            run_loop(ctx, window, width, height);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceeagine.html">eagine</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> main(main_ctx&amp; ctx) -&gt; <span class="keywordtype">int</span> {</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        init_and_run(ctx);</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::runtime_error&amp; sre) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Runtime error: &quot;</span> &lt;&lt; sre.what() &lt;&lt; std::endl;</div>
<div class="line">    } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; se) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Unknown error: &quot;</span> &lt;&lt; se.what() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace eagine</span></div>
<div class="ttc" id="aclasseagine_1_1c__api_1_1basic__owned__handle_html"><div class="ttname"><a href="classeagine_1_1c__api_1_1basic__owned__handle.html">eagine::c_api::basic_owned_handle</a></div><div class="ttdoc">Owning wrapper for C-API opaque handle types.</div><div class="ttdef"><b>Definition:</b> handle.hpp:103</div></div>
<div class="ttc" id="aclasseagine_1_1main__ctx_html"><div class="ttname"><a href="classeagine_1_1main__ctx.html">eagine::main_ctx</a></div><div class="ttdoc">Class for a singleton object providing useful information and services.</div><div class="ttdef"><b>Definition:</b> main_ctx.hpp:42</div></div>
<div class="ttc" id="aclasseagine_1_1oglplus_1_1basic__gl__api_html"><div class="ttname"><a href="classeagine_1_1oglplus_1_1basic__gl__api.html">eagine::oglplus::basic_gl_api</a></div><div class="ttdoc">Combined wrapper for the GL API operations and constants.</div><div class="ttdef"><b>Definition:</b> basic_gl_api.hpp:30</div></div>
<div class="ttc" id="aclasseagine_1_1oglplus_1_1orbiting__camera_html"><div class="ttname"><a href="classeagine_1_1oglplus_1_1orbiting__camera.html">eagine::oglplus::orbiting_camera</a></div><div class="ttdoc">Class representing a camera orbiting around its target.</div><div class="ttdef"><b>Definition:</b> camera.hpp:23</div></div>
<div class="ttc" id="aclasseagine_1_1oglplus_1_1prog__var__location_html"><div class="ttname"><a href="classeagine_1_1oglplus_1_1prog__var__location.html">eagine::oglplus::prog_var_location</a></div><div class="ttdoc">Class wrapping GL shader program variable location.</div><div class="ttdef"><b>Definition:</b> prog_var_loc.hpp:21</div></div>
<div class="ttc" id="aeagine-core_2include_2eagine_2main_8hpp_html"><div class="ttname"><a href="eagine-core_2include_2eagine_2main_8hpp.html">main.hpp</a></div></div>
<div class="ttc" id="aeagine-oglplus_2include_2eagine_2oglplus_2camera_8hpp_html"><div class="ttname"><a href="eagine-oglplus_2include_2eagine_2oglplus_2camera_8hpp.html">camera.hpp</a></div></div>
<div class="ttc" id="aeagine-oglplus_2include_2eagine_2oglplus_2math_2vector_8hpp_html"><div class="ttname"><a href="eagine-oglplus_2include_2eagine_2oglplus_2math_2vector_8hpp.html">vector.hpp</a></div></div>
<div class="ttc" id="agl_8hpp_html"><div class="ttname"><a href="gl_8hpp.html">gl.hpp</a></div></div>
<div class="ttc" id="agl__api_8hpp_html"><div class="ttname"><a href="gl__api_8hpp.html">gl_api.hpp</a></div></div>
<div class="ttc" id="agl__debug__logger_8hpp_html"><div class="ttname"><a href="gl__debug__logger_8hpp.html">gl_debug_logger.hpp</a></div></div>
<div class="ttc" id="agroup__functional_html_ga537607e94d5469008ab8290a79a65a18"><div class="ttname"><a href="group__functional.html#ga537607e94d5469008ab8290a79a65a18">eagine::finally</a></div><div class="ttdeci">static auto finally(Func func) noexcept -&gt; func_on_scope_exit&lt; Func &gt;</div><div class="ttdoc">Function constructing on-scope-exit actions.</div><div class="ttdef"><b>Definition:</b> scope_exit.hpp:144</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_ga0a4e18c0c0f0bc7fdb9b9bf2aed8b10f"><div class="ttname"><a href="group__gl__api__wrap.html#ga0a4e18c0c0f0bc7fdb9b9bf2aed8b10f">eagine::oglplus::buffer_name_array</a></div><div class="ttdeci">gl_object_name_array&lt; buffer_tag, N &gt; buffer_name_array</div><div class="ttdoc">Alias for array of N GL buffer object handles.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:281</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_ga0b1e6d17e6e223d5bec1df69a3c1d1b2"><div class="ttname"><a href="group__gl__api__wrap.html#ga0b1e6d17e6e223d5bec1df69a3c1d1b2">eagine::oglplus::gl_api</a></div><div class="ttdeci">basic_gl_api&lt; gl_api_traits &gt; gl_api</div><div class="ttdoc">Alias for the default instantation of basic_gl_api.</div><div class="ttdef"><b>Definition:</b> gl_api_fwd.hpp:20</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_ga743c2655313045676d10e30dc0e7bd91"><div class="ttname"><a href="group__gl__api__wrap.html#ga743c2655313045676d10e30dc0e7bd91">eagine::oglplus::no_vertex_array</a></div><div class="ttdeci">constexpr const vertex_array_name no_vertex_array</div><div class="ttdoc">Constant used to break existing vertex array object binding.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:209</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_ga814999c7f80bb5260eb13decc383d5b4"><div class="ttname"><a href="group__gl__api__wrap.html#ga814999c7f80bb5260eb13decc383d5b4">eagine::oglplus::owned_shader_name</a></div><div class="ttdeci">gl_owned_object_name&lt; shader_tag &gt; owned_shader_name</div><div class="ttdoc">Alias for owned GL shader object handle.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:254</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_gaa8ab6d03e40f471bdca3c7456facf85e"><div class="ttname"><a href="group__gl__api__wrap.html#gaa8ab6d03e40f471bdca3c7456facf85e">eagine::oglplus::vertex_array_name_array</a></div><div class="ttdeci">gl_object_name_array&lt; vertex_array_tag, N &gt; vertex_array_name_array</div><div class="ttdoc">Alias for array of N GL vertex array object handles.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:343</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_gac71ed95459e0f445669928b86c1cf2a1"><div class="ttname"><a href="group__gl__api__wrap.html#gac71ed95459e0f445669928b86c1cf2a1">eagine::oglplus::default_transform_feedback</a></div><div class="ttdeci">constexpr const transform_feedback_name default_transform_feedback</div><div class="ttdoc">Constant representing the default transform feedback object.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:199</div></div>
<div class="ttc" id="agroup__gl__api__wrap_html_gad0bd724fff87f121d0f5843e3e6f971f"><div class="ttname"><a href="group__gl__api__wrap.html#gad0bd724fff87f121d0f5843e3e6f971f">eagine::oglplus::transform_feedback_name_array</a></div><div class="ttdeci">gl_object_name_array&lt; transform_feedback_tag, N &gt; transform_feedback_name_array</div><div class="ttdoc">Alias for array of N GL transform feedback object handles.</div><div class="ttdef"><b>Definition:</b> object_name.hpp:337</div></div>
<div class="ttc" id="agroup__math_html_gae38f1e4bd402b80d751218081ed90aa6"><div class="ttname"><a href="group__math.html#gae38f1e4bd402b80d751218081ed90aa6">eagine::math::sine_wave01</a></div><div class="ttdeci">static constexpr auto sine_wave01(const T x) noexcept -&gt; T</div><div class="ttdoc">Calculates sine of x, mapped to interval (0, 1).</div><div class="ttdef"><b>Definition:</b> functions.hpp:193</div></div>
<div class="ttc" id="agroup__memory_html_ga9534fdd13884329a5c5e5c10b3337f80"><div class="ttname"><a href="group__memory.html#ga9534fdd13884329a5c5e5c10b3337f80">eagine::memory::view</a></div><div class="ttdeci">static constexpr auto view(T *addr, const S size) noexcept -&gt; const_span&lt; T &gt;</div><div class="ttdoc">Creates a view starting at the specified pointer and specified length.</div><div class="ttdef"><b>Definition:</b> span.hpp:478</div></div>
<div class="ttc" id="agroup__memory_html_gad84cf3d7cf242c3f2d6f786668031276"><div class="ttname"><a href="group__memory.html#gad84cf3d7cf242c3f2d6f786668031276">eagine::memory::sort</a></div><div class="ttdeci">static auto sort(basic_span&lt; T, P, S &gt; spn) -&gt; basic_span&lt; T, P, S &gt;</div><div class="ttdoc">Sorts the elements of a span.</div><div class="ttdef"><b>Definition:</b> span_algo.hpp:638</div></div>
<div class="ttc" id="agroup__string__utils_html_gae76dd3f0edeca37e438f5bbc2374e1b9"><div class="ttname"><a href="group__string__utils.html#gae76dd3f0edeca37e438f5bbc2374e1b9">eagine::string_view</a></div><div class="ttdeci">basic_string_span&lt; const char &gt; string_view</div><div class="ttdoc">Alias for const string views.</div><div class="ttdef"><b>Definition:</b> string_span.hpp:140</div></div>
<div class="ttc" id="agroup__type__utils_html_gaaf8b694f300be481e0193d6d79cae6ec"><div class="ttname"><a href="group__type__utils.html#gaaf8b694f300be481e0193d6d79cae6ec">eagine::signedness_cast</a></div><div class="ttdeci">static constexpr auto signedness_cast(Src value) noexcept</div><div class="ttdoc">Casts value to a type with the opposite signedness.</div><div class="ttdef"><b>Definition:</b> is_within_limits.hpp:146</div></div>
<div class="ttc" id="agroup__units_html_ga60de4eb5806a3a4a07293b15e207b48b"><div class="ttname"><a href="group__units.html#ga60de4eb5806a3a4a07293b15e207b48b">eagine::radians_</a></div><div class="ttdeci">static constexpr auto radians_(const T value) noexcept -&gt; radians_t&lt; T &gt;</div><div class="ttdoc">Creates a tagged quantity storing value in radians.</div><div class="ttdef"><b>Definition:</b> quantities.hpp:50</div></div>
<div class="ttc" id="agroup__units_html_gaee616eaf201f65e072f7602b137f4615"><div class="ttname"><a href="group__units.html#gaee616eaf201f65e072f7602b137f4615">eagine::degrees_</a></div><div class="ttdeci">static constexpr auto degrees_(const T value) noexcept -&gt; degrees_t&lt; T &gt;</div><div class="ttdoc">Creates a tagged quantity storing value in degrees.</div><div class="ttdef"><b>Definition:</b> quantities.hpp:180</div></div>
<div class="ttc" id="ainteger__range_8hpp_html"><div class="ttname"><a href="integer__range_8hpp.html">integer_range.hpp</a></div></div>
<div class="ttc" id="anamespaceeagine_1_1oglplus_html"><div class="ttname"><a href="namespaceeagine_1_1oglplus.html">eagine::oglplus</a></div><div class="ttdoc">OpenGL API wrapper code is placed in this namespace.</div><div class="ttdef"><b>Definition:</b> camera.inl:12</div></div>
<div class="ttc" id="anamespaceeagine_html"><div class="ttname"><a href="namespaceeagine.html">eagine</a></div><div class="ttdoc">Common code is placed in this namespace.</div><div class="ttdef"><b>Definition:</b> app_config.inl:25</div></div>
<div class="ttc" id="astring__ref_8hpp_html"><div class="ttname"><a href="string__ref_8hpp.html">string_ref.hpp</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
<br/>
<div id="eagine-bottom">
<em>Copyright &copy; 2015-2022</em> <strong>Mat Chochlk</strong>.<br/>
&lt;<a href="mailto:chochlik@gmail.com">chochlik -at -gmail.com</a>&gt;<br/>
Documentation generated on Wed May 18 2022 by <a href="http://www.doxygen.org/index.html">Doxygen</a> (version 1.9.1).
</div> <!-- eagine-bottom -->
</div> <!-- eagine-content -->
</div> <!-- eagine-frame -->
</body>
</html>
